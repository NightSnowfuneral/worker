webpackJsonp([1],{1096:function(t,e,n){try{(function(){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(84),r=a(i),s=n(3),l=a(s),o=n(20),u=a(o),c=n(5),d=a(c),f=n(4),p=a(f),h=n(0),v=a(h),m=n(56),y=n(85),k=n(66),g=n(133),_=n(212),b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(_),S=n(1106),B=a(S),O=(n(507),function(t){function e(t){(0,l.default)(this,e);var n=(0,d.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.state={pageId:"1"},n}return(0,p.default)(e,t),(0,u.default)(e,[{key:"componentDidMount",value:function(){this.GetLatestFaultWorkOrderList()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"filterLists",value:function(t,e){return[]}},{key:"setOptions",value:function(){return{service:"ElectricityGridAegisRealTimeService",fun:"json/GetLatestFaultWorkOrderList"}}},{key:"GetLatestFaultWorkOrderList",value:function(){var t=this.setOptions();return this.props.actions.fetchPostsIfNeeded("FaultWorkOrderList","LatestWorkOrderList",t,!0)}},{key:"render",value:function(){var t=this.state.pageId,e=this.props,n=e.isFetching,a=e.lists;return v.default.createElement("div",{className:"fault flex flex-1"},v.default.createElement(g.Spin,{spinning:n&&0===a.length,tip:"Loading...",style:{width:"100%"}},v.default.createElement(B.default,{dataSource:this.filterLists(this.props.lists,1),pageId:t,addBtn:"新增缺陷工单"})))}}]),e}(h.Component)),L=function(t){var e=t.postsByPostTitle,n=t.spinning,a=e.FaultWorkOrderList||{isFetching:!0,lists:[]};return{isFetching:a.isFetching,lists:a.lists,data:a.data,spinning:n}},F=function(t){return{actions:(0,k.bindActionCreators)(b,t)}};e.default=(0,m.withRouter)((0,y.connect)(L,F)(O)),t.exports=e.default}).call(this)}finally{}},1102:function(t,e,n){e=t.exports=n(1095)(),e.push([t.i,".tablebar{\r\n\tbackground-color: #fff;\r\n}",""])},1103:function(t,e,n){var a=n(1102);"string"==typeof a&&(a=[[t.i,a,""]]);n(1099)(a,{});a.locals&&(t.exports=a.locals)},1106:function(t,e,n){try{(function(){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(84),r=a(i),s=n(3),l=a(s),o=n(20),u=a(o),c=n(5),d=a(c),f=n(4),p=a(f),h=n(0),v=a(h);n(1103);var m=n(66),y=n(85),k=n(212),g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(k),_=n(133),b=n(507),S=function(t){function e(t){(0,l.default)(this,e);var n=(0,d.default)(this,(e.__proto__||(0,r.default)(e)).call(this,t));return n.state={columns:[],dataSource:[],showModal:!1,modalWidth:"",modalTitle:"",request:"post"},n}return(0,p.default)(e,t),(0,u.default)(e,[{key:"componentWillMount",value:function(){this.setColums(),this.setDataSource(this.props.dataSource)}},{key:"componentWillReceiveProps",value:function(t){0!=t.dataSource.length&&this.setDataSource(t.dataSource)}},{key:"addBtn",value:function(){var t=this.props,e=t.actions,n=t.pageId;this.showModal(),this.setState({modalWidth:"960px",modalTitle:"新增工单",request:"post"}),e.selectType("0","1"==n)}},{key:"filterFun",value:function(t,e){var n=[];return t.map(function(t){t.pageId.map(function(a){a==e&&n.push(t)})}),n}},{key:"setColums",value:function(){var t=this,e=this.props.pageId,n=this.filterFun(b.columnsAll,e),a=[{title:"操作",dataIndex:"",key:"x",render:function(e,n){return t.setBtns(e,n)}}];n=n.concat(a),this.setState({columns:n})}},{key:"handleClickBtn",value:function(t,e){switch(t){case"0":this.editBtn(e);break;case"9":this.againBtn(e)}}},{key:"setBtns",value:function(t,e){var n=this,a=this.props.pageId,i=this.filterFun(b.actionsBtnsAll,a),r=i.slice(0,2);return v.default.createElement("span",null,r.map(function(e,a){return v.default.createElement("span",{key:a},v.default.createElement("a",{href:"javascript:;",onClick:n.handleClickBtn.bind(n,e.funIndex,t)}," ",e.name),i.length%2==0&&v.default.createElement("span",{className:"ant-divider"}))}))}},{key:"setDataSource",value:function(t){t.map(function(t,e){return t.key=e+1}),console.log(t),this.setState({dataSource:t})}},{key:"render",value:function(){var t=this.state,e=t.dataSource,n=t.columns;return console.log(e),v.default.createElement("div",{className:"tablebar"},this.props.addBtn&&v.default.createElement(_.Button,{className:"editable-add-btn",type:"ghost",onClick:this.addBtn.bind(this)},this.props.addBtn),v.default.createElement(_.Table,{columns:n,dataSource:e}))}}]),e}(h.Component),B=function(t){return{selectType:t.selectType}},O=function(t){return{actions:(0,m.bindActionCreators)(g,t)}};e.default=(0,y.connect)(B,O)(S),t.exports=e.default}).call(this)}finally{}}});